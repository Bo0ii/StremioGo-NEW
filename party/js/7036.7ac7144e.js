"use strict";(self["webpackChunkpeario_client"]=self["webpackChunkpeario_client"]||[]).push([[7036],{1594:function(e,t,s){s.d(t,{A:function(){return c}});var a=s(641);const l={class:"loading"};function i(e,t){const s=(0,a.g2)("ion-icon");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(s,{name:"sync-outline",class:"icon spin"})])}var n=s(6262);const o={},r=(0,n.A)(o,[["render",i],["__scopeId","data-v-274feeaf"]]);var c=r},1650:function(e,t,s){s.d(t,{A:function(){return v}});var a=s(641),l=s(33),i=s(3751);const n=["onClick"],o={class:"left-content"},r={key:0,class:"right-content"};function c(e,t,s,c,u,m){return(0,a.uX)(),(0,a.CE)("ul",{class:(0,l.C4)(["list",{fixed:s.fixed,small:s.small}])},[(0,a.bF)(i.F,{name:"fade"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.items,(t,i)=>((0,a.uX)(),(0,a.CE)("li",{class:(0,l.C4)(["item",{active:t===s.modelValue}]),key:s.itemKey?t[s.itemKey]:t,onClick:e=>m.selectItem(e,t)},[(0,a.Lk)("div",o,[(0,a.RG)(e.$slots,"left",{index:i,item:t},void 0,!0)]),e.$slots.right?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.RG)(e.$slots,"right",{index:i,item:t},void 0,!0)])):(0,a.Q3)("",!0)],10,n))),128))]),_:3})],2)}var u={name:"List",props:{modelValue:[Object,String,Number],items:Array,itemKey:String,fixed:Boolean,small:Boolean},emits:["update:modelValue","click"],methods:{selectItem(e,t){const{target:s}=e,a=s.closest(".item");a.parentElement.scrollTo({top:a.offsetTop,behavior:"smooth"}),this.$emit("update:modelValue",t),this.$emit("click",t)}}},m=s(6262);const d=(0,m.A)(u,[["render",c],["__scopeId","data-v-767d3f97"]]);var v=d},7036:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});s(4114);var a=s(641),l=s(33),i=s(3751),n=s(953),o=s(9325),r=s(5896),c=s(8126),u=s(6242),m=s(5019),d=s(1650),v=s(1594);const p={class:"search"},f={class:"header"},h={class:"title"},k={class:"info"},g={class:"name"},b={class:"year"};var _={__name:"Search",setup(e){const t=(0,n.KR)(!1),s=(0,n.KR)(""),_=(0,n.KR)("movies"),y=["movies","series"],A=(0,n.KR)({movies:[],series:[]});let C=null;(0,a.wB)(s,e=>{t.value=!0,clearTimeout(C),C=setTimeout(async()=>{e.length?(A.value.movies=await r.A.searchMovies(e),A.value.series=await r.A.searchSeries(e)):A.value={movies:[],series:[]},t.value=!1},250)});const F=({type:e,imdb_id:t})=>{o.A.push({name:"stream",params:{type:e,id:t}})};return(e,n)=>{const o=(0,a.g2)("ion-icon");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("div",f,[(0,a.Lk)("div",h,[(0,a.bF)(c.A,{translate:"views.search.title"}),(0,a.bF)(c.A,{type:"tertiary",translate:"views.search.sub"})]),(0,a.bF)(u.A,{large:"",modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=e=>s.value=e),placeholder:"Parasite, Fight Club, ..."},null,8,["modelValue"]),(0,a.bo)((0,a.bF)(m.A,{segments:y,modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=e=>_.value=e)},{segment:(0,a.k6)(({segment:t})=>[(0,a.eW)((0,l.v_)(e.$t(`views.search.segments.${t}`)),1)]),_:1},8,["modelValue"]),[[i.aG,!t.value&&s.value]])]),(0,a.bo)((0,a.bF)(v.A,{class:"loading"},null,512),[[i.aG,t.value]]),(0,a.bF)(d.A,{class:"list",items:A.value[_.value],itemKey:"id",onClick:n[2]||(n[2]=e=>F(e))},{left:(0,a.k6)(({item:e})=>[(0,a.Lk)("div",{class:"poster",style:(0,l.Tr)(`background-image: url(${e.poster})`)},[e.poster?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(o,{key:0,name:"image-outline"}))],4)]),right:(0,a.k6)(({item:e})=>[(0,a.Lk)("div",k,[(0,a.Lk)("span",g,(0,l.v_)(e.name),1),(0,a.Lk)("span",b,(0,l.v_)(e.releaseInfo),1)])]),_:1},8,["items"])])}}},y=s(6262);const A=(0,y.A)(_,[["__scopeId","data-v-227b6891"]]);var C=A}}]);